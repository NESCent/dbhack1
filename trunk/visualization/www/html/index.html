<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>I am PhyloWidget</title>
  <!--This script loads all the CSS and JavaScript dependencies -->
  <script type="text/javascript" src="./js/pw_loader.js"></script>

  <script type="text/javascript">
    var box     = new Box;
    BalloonConfig(box,"GBox");
    var pw = new PhyloWidget.object();
    pw.codebase = "./phylowidget/lib"; 
    var widget  = new PWidget;  
  </script>
</head>

<body class="yui-skin-sam">
<div id="header">
<img src="./images/phylowidget/pw_small_transparent.png">
</div>

<div id="panels">

<div id="search">
 <div id="searchTitle" class="hd">Search</div>
 <div class="bd" id="searchContainer" style="overflow:auto">
  <div id="searchAutoComplete" class="searchbar">
   <input id="searchInput" />
   <div id="searchAutocompleteContainer"></div>
   <div style="float:right">
    <input type="submit" value="Search" onclick="widget.doSearch()">
   </div>
  </div>
  <div id="searchResultsContainer"></div>
 </div>
 <div class="ft"></div>
</div>


<div id="tree">
  <div id="treeTitle" class="hd">Newick Data or URL</div>
  <div id="treeContainer" class="bd">
    <textarea onblur="widget.updateTree(this.value)"
              style="font-size:10px;width:100%;height:100%" 
              id="pw_treetext">
    </textarea>
  </div>
 <div class="ft"></div>
</div>

<div id="decoration">
  <div id="decorationTitle" class="hd">Tree Decorations</div>
  <div id="decorationContainer" class="bd">
    <div id="pw_nodedecorations"></div>
  </div> 
  <div class="ft"></div>
</div>

<div id="node">
  <div id="nodeTitle" class="hd">Node Properties</div>
  <div id="nodeContainer" class="bd">
    <div id="pw_nodeinfo"></div>
 </div>
 <div class="ft"></div>
</div>


<div id="widget">
 <div id="widgetTitle" class="hd">Phylowidget</div>
 <div id="widgetContainer" class="bd" style="text-align:center;font-size:10pt"></div>
 <div class="ft" style="height:17px">
   <div style="height:2px;width:100%"></div> <!-- Needed for layout! -->
   <div class="footerText">
    <span id="treeButtons">
      <script type="text/javascript">
        var clickMe = function(){widget.saveTreeForm(event)};
        widget.addButton('Save Tree',clickMe,'treeButtons');
        clickMe = function(){widget.updateTree('http://www.ebi.ac.uk/~greg/bbcdemo/smalltree.nhx')};
        widget.addButton('Example Tree',clickMe,'treeButtons');
        clickMe = function(){return false};
        widget.addButton('Update Tree',clickMe,'treeButtons');
      </script>
    </span>
 </div>
 </div>
</div>

</div> <!-- end 'panels' div -->

<!-- The conatiner for show/hide buttons -->
<div id="showhide">
</div>

<!-- Move this stuff to widget.js and fire with a window.onload event handler -->
<script type="text/javascript">
  widget.getLayout();

  YAHOO.example.BasicRemote = function() {
    // Use an XHRDataSource
    var oDS = new YAHOO.util.XHRDataSource("/cgi-bin/hackathon/species_search.pl");
    // Set the responseType
    oDS.responseType = YAHOO.util.XHRDataSource.TYPE_TEXT;
    // Define the schema of the delimited results
    oDS.responseSchema = {
        recordDelim: "\n",
        fieldDelim: "\t"
    };
    // Enable caching
    oDS.maxCacheEntries = 5;

    // Instantiate the AutoComplete
    var oAC = new YAHOO.widget.AutoComplete("searchInput", "searchAutocompleteContainer", oDS);

    return {
        oDS: oDS,
        oAC: oAC
    };
}();

</script>
</body>
</html>


